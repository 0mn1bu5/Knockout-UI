<!doctype html>
<html lang="en">
<head>
<head>
	<meta charset="utf-8">
	<title>Knockout UI - Tabs Demo</title>
	<link rel="stylesheet" href="../src/css/examples.css" />
	<link rel="stylesheet" href="../build/css/ui-tabs.css" />
</head>
<body>
	<div data-bind="tabs : tabSet" style="width: 500px"></div>

	<div class="button-group">
		<h2>Example actions</h2>
		<button class="btn" data-bind="click: addNewTab">Add tab to end</button>
		<button class="btn" data-bind="click: removeFirst">Remove First</button>
		<button class="btn" data-bind="click: removeFirst">Remove First Tab</button>
		<button class="btn" data-bind="click: updateFirstName">Update First Tab Name</button>
		<button class="btn" data-bind="click: showSecondTab">Show second tab</button>
	</div>

	<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.0.0.min.js"></script>
	<script src="../node_modules/knockout-client/knockout.js"></script>
	<script  src="../src/js/ui-core.js"></script>
	<script  src="../src/js/ui-tabs.js"></script>

	<script type="text/javascript">

		ko.addTemplate("tmpl_tab1", "<div>Tab1</div>");
		ko.addTemplate("tmpl_tab2", "<div>Tab2</div>");
		ko.addTemplate("tmpl_tab3", "<div data-bind=\"text: title\"></div>");

		var ViewModel = function() {
			var tabs;

			this.tabSet = tabs = new ko.ui.TabSet({
				tabs: [
					{ name: ko.observable("Tab 1"), template: "tmpl_tab1" },
					{ name: "Tab 2", template: "tmpl_tab2" },
					{ name: "Tab 3", template: "tmpl_tab3", data: { title: "Hello from tab 3" } }
				]
			});

			this.addNewTab = function() {
				var number = tabs.tabs().length + 1;
				tabs.add({ name: "Tab " + number, template: "tmpl_tab3", data: { title: "Hello from tab " + number } });
			};

			this.removeFirst = function() {
				tabs.remove("Tab 1");
				tabs.show(0);
			};

			this.removeFirst = function() {
				tabs.removeAt(0);
				tabs.show(0);
			};

			this.updateFirstName = function() {
				var tab = tabs.get(0);
				if (tab) {
					tab.name("First Tab");
				}
			};

			this.showSecondTab = function() {
				tabs.show(1);
			};
		};
		
		$(function () {
			ko.applyBindings(new ViewModel());
		});
	</script>
</body>
</html>